{{/* Rating partial for single recipe page - 5 interactive stars */}}
{{- $slug := .File.ContentBaseName -}}
<div class="rating-container" data-recipe-slug="{{ $slug }}">
    <div class="rating-stars" id="ratingStars" aria-label="Oceń przepis">
        {{- range seq 5 -}}
        <button type="button" class="rating-star" data-rating="{{ . }}" aria-label="Oceń na {{ . }} gwiazdek">
            <i class="far fa-star"></i>
        </button>
        {{- end -}}
    </div>
    <span class="rating-count" id="ratingCount"></span>
    <div class="rating-user" id="ratingUser" style="display: none;">
        <span class="rating-user__label">Twoja ocena:</span>
        <span class="rating-user__stars" id="userRatingStars"></span>
    </div>
</div>

{{/* Auth modal - shown when unauthenticated user attempts to rate */}}
<dialog id="authModal" class="modal">
    <div class="modal-box">
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2" aria-label="Zamknij">
                <i class="fas fa-times"></i>
            </button>
        </form>
        <h3 class="font-bold text-lg mb-2">Zaloguj się, aby ocenić</h3>
        <p class="text-base-content/70 mb-4">Wybierz sposób logowania:</p>
        <div class="flex flex-col gap-3">
            <button type="button" class="btn btn-outline gap-2" data-auth-provider="github">
                <i class="fab fa-github text-xl"></i>
                <span>GitHub</span>
            </button>
            <button type="button" class="btn btn-outline gap-2" data-auth-provider="google">
                <i class="fab fa-google text-xl"></i>
                <span>Google</span>
            </button>
        </div>
    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>
