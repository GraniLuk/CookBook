{{ define "main" }}
<div class="section recipe-page">
    <div class="columns is-centered">
        <div class="column is-full-mobile is-two-thirds-desktop recipe-card">
            <div class="is-flex recipe-hero-wrap" style="justify-content: center; position: relative;">
                <figure class="image recipe-hero">
                    {{- $image_url := partial "asset-url.html" "/images/defaultImage.png" -}}
                    {{- if and .Params.recipe_image (fileExists (printf "static/%s" .Params.recipe_image)) -}}
                        {{- $image_url = partial "asset-url.html" (printf "/%s" .Params.recipe_image) -}}
                    {{- end -}}
                    <img src="{{ $image_url }}" alt="Recipe image">
                    <div class="recipe-hero__gradient" aria-hidden="true"></div>
                    <div class="recipe-hero__title">
                        <h1 class="title is-bold has-text-white">{{ .Title }}</h1>
                        <div style="margin-top:.5rem;">{{ partial "fodmap-badge.html" . }}</div>
                    </div>
                    {{ if .Params.link }}
                    <div id="youtubeButton" class="is-rounded media-badge media-badge--left">
                        <a href="{{ .Params.link }}" target="_blank" aria-label="Open video">
                            <i class="fab fa-youtube" aria-hidden="true"></i>
                        </a>
                    </div>
                    {{ end }}
                    <div id="shareButton" class="is-rounded media-badge media-badge--right">
                        <button onclick="shareRecipe()" aria-label="Share recipe" class="unstyled-btn">
                            <i class="fas fa-share-from-square" aria-hidden="true"></i>
                        </button>
                    </div>
                </figure>
            </div>

            

            <div class="container has-text-centered recipe-meta recipe-meta--stats">
                {{ partial "statstable.html" . }}
            </div>
            <hr class="recipe-sep">
            <div class="container has-text-centered recipe-meta recipe-meta--macros">
                {{ partial "macrostable.html" . }}
            </div>
            <hr>
            <p class="subtitle is-italic"> {{ .Params.Tagline }}</p>
            <div class="content">
                {{ .Content }}
            </div>
            {{/* FODMAP panel placed after content (below nutrition tables which precede .Content) */}}
            {{ partial "fodmap-panel.html" . }}
        </div>
    </div>
</div>
{{ end }}
